# üöÄ Proxmox VE 9 - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–ü–†–ê–í–ò–õ–¨–ù–´–ô –º–µ—Ç–æ–¥)

## ‚úÖ –û–§–ò–¶–ò–ê–õ–¨–ù–´–ô –º–µ—Ç–æ–¥ Proxmox

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `proxmox-auto-install-assistant`**

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:
- –í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç `answer.toml` –í ISO
- –î–æ–±–∞–≤–ª—è–µ—Ç "Automated Installation" –≤ GRUB –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)

---

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –®–∞–≥ 0: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å proxmox-auto-install-assistant

**–ù–∞ Ubuntu/Debian –º–∞—à–∏–Ω–µ, –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç–µ USB:**

```bash
# –î–æ–±–∞–≤–∏—Ç—å GPG –∫–ª—é—á Proxmox
sudo wget https://enterprise.proxmox.com/debian/proxmox-release-bookworm.gpg \
  -O /etc/apt/trusted.gpg.d/proxmox-release-bookworm.gpg

# –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Proxmox (–∏—Å–ø–æ–ª—å–∑—É–µ–º tee –¥–ª—è sudo)
echo "deb [arch=amd64] http://download.proxmox.com/debian/pve bookworm pve-no-subscription" | \
  sudo tee /etc/apt/sources.list.d/pve-install-repo.list

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
sudo apt update
sudo apt install proxmox-auto-install-assistant
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
proxmox-auto-install-assistant --version
```

---

## üöÄ –°–æ–∑–¥–∞–Ω–∏–µ USB (3 —à–∞–≥–∞)

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ USB

```bash
sudo ./create-proxmox-usb.sh /dev/sdX proxmox-ve_9.0.iso
```

‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ `/dev/sdX` –Ω–∞ –≤–∞—à–µ USB —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä `/dev/sdb`)

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ `proxmox-auto-install-assistant`
2. –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç `answer.toml`
3. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç ISO —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º answer —Ñ–∞–π–ª–æ–º
4. –ó–∞–ø–∏—à–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π ISO –Ω–∞ USB
5. –î–æ–±–∞–≤–∏—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–∏—Å–ø–ª–µ—è

### 2Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∏—Ç–µ—Å—å —Å USB

1. –í—Å—Ç–∞–≤—å—Ç–µ USB –≤ Dell XPS L701X
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä –∫ Mini DisplayPort
3. –ù–∞–∂–º–∏—Ç–µ **F12** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
4. –í—ã–±–µ—Ä–∏—Ç–µ **`UEFI: USB...`**

### 3Ô∏è‚É£ –ñ–¥–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

- GRUB –ø–æ–∫–∞–∂–µ—Ç "Automated Installation" –∫–∞–∫ –ø–µ—Ä–≤—É—é –æ–ø—Ü–∏—é
- **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥** (–Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–∂–∏–º–∞–π—Ç–µ!)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —á–µ—Ä–µ–∑ 10-15 –º–∏–Ω—É—Ç

---

## üìÅ –§–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **`create-proxmox-usb.sh`** | ‚≠ê –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç prepare-iso) |
| **`answer.toml`** | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (TOML —Ñ–æ—Ä–º–∞—Ç) |
| **`proxmox-post-install.sh`** | –°–∫—Ä–∏–ø—Ç –ø–æ—Å—Ç-—É—Å—Ç–∞–Ω–æ–≤–∫–∏ |

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ answer.toml

–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º USB –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `answer.toml`:

### –î–ª—è –†–æ—Å—Å–∏–∏

```toml
[global]
country = "RU"  # –í–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä!
timezone = "Europe/Moscow"
```

### –î–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP

```toml
[network]
source = "from-answer"
cidr = "192.168.1.100/24"
gateway = "192.168.1.1"
dns = "8.8.8.8"
```

### –î–ª—è –¥—Ä—É–≥–æ–≥–æ –¥–∏—Å–∫–∞

```toml
[disk-setup]
filesystem = "ext4"
disk_list = ["/dev/nvme0n1"]  # –ü–æ–ª–Ω—ã–π –ø—É—Ç—å —Å /dev/
```

### LVM –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–¥–ª—è ext4)

```toml
[disk-setup]
filesystem = "ext4"
disk_list = ["/dev/sda"]
lvm.swapsize = 8    # –í–ê–ñ–ù–û: –ø—Ä–µ—Ñ–∏–∫—Å lvm.
lvm.maxroot = 30
lvm.minfree = 8
lvm.maxvz = 0
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞**: ISO –Ω–µ –±—ã–ª –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω —Å `prepare-iso`

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `proxmox-auto-install-assistant` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "‚úì Prepared ISO created"
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ USB

### answer.toml validation failed

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç TOML

**–†–µ—à–µ–Ω–∏–µ**:
1. –î–ª—è ext4 LVM –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å `lvm.`:
   ```toml
   lvm.swapsize = 8  # –ù–ï –ø—Ä–æ—Å—Ç–æ swapsize
   ```
2. Country –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ: `country = "EE"` (–Ω–µ "ee")
3. –î–∏—Å–∫–∏ —Å –ø–æ–ª–Ω—ã–º –ø—É—Ç—ë–º: `disk_list = ["/dev/sda"]`
4. –ü—Ä–æ–≤–µ—Ä–∫–∞: `proxmox-auto-install-assistant validate-answer answer.toml`

### proxmox-auto-install-assistant not found

**–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (—Å–º. –®–∞–≥ 0 –≤—ã—à–µ)

**–í–∞–∂–Ω–æ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `tee` –¥–ª—è sudo:
```bash
echo "deb..." | sudo tee /etc/apt/sources.list.d/pve-install-repo.list
```
–ù–ï `echo "deb..." > /etc/apt/...` (–æ—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ)

### USB –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**: –í—ã–±–∏—Ä–∞–π—Ç–µ **`UEFI: USB...`** (–ù–ï "USB Storage Device")

### –í–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**: –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "‚úì Graphics parameters added". –ï—Å–ª–∏ –Ω–µ—Ç - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ USB.

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üá∑üá∫ **–†—É—Å—Å–∫–∏–π**: [–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md](–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md)
- üá¨üáß **English**: [README-AUTOINSTALL.md](README-AUTOINSTALL.md)
- üñ•Ô∏è **Dell XPS**: [DELL-XPS-EXTERNAL-DISPLAY-NOTES.md](DELL-XPS-EXTERNAL-DISPLAY-NOTES.md)

---

## üéØ –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞

```bash
# 0. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–æ–¥–∏–Ω —Ä–∞–∑)
sudo apt install proxmox-auto-install-assistant

# 1. –°–æ–∑–¥–∞—Ç—å USB
sudo ./create-proxmox-usb.sh /dev/sdX proxmox.iso

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å—Å—è: F12 ‚Üí UEFI: USB

# 3. –ñ–¥–∞—Ç—å 10 —Å–µ–∫—É–Ω–¥ ‚Üí –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞!

# 4. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
ssh root@<ip>  # –ü–∞—Ä–æ–ª—å: Homelab2025!
```

---

## ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ Proxmox:**

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `proxmox-auto-install-assistant`
2. ‚úÖ –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç `answer.toml`
3. ‚úÖ **–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç ISO** –∫–æ–º–∞–Ω–¥–æ–π `prepare-iso` (–≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç answer.toml)
4. ‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç **–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π ISO** –Ω–∞ USB
5. ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–∏—Å–ø–ª–µ—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- "Automated Installation" –∑–∞–ø–∏—Å—å –≤ GRUB (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –í–Ω–µ—à–Ω–∏–π –¥–∏—Å–ø–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
- ‚úÖ Proxmox VE 9 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –í–Ω–µ—à–Ω–∏–π –¥–∏—Å–ø–ª–µ–π —Ä–∞–±–æ—Ç–∞–ª
- ‚úÖ –°–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (DHCP)
- ‚úÖ –ì–æ—Ç–æ–≤ –¥–ª—è VM

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: [README.md](README.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏

---

**–ú–µ—Ç–æ–¥**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Proxmox prepare-iso
**–í–µ—Ä—Å–∏—è**: 2.0
**–î–∞—Ç–∞**: 2025-10-05
