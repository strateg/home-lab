# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Proxmox VE 9 –Ω–∞ Dell XPS L701X

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 0. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ proxmox-auto-install-assistant

**–ù–∞ Ubuntu/Debian –º–∞—à–∏–Ω–µ:**

```bash
# –î–æ–±–∞–≤–∏—Ç—å GPG –∫–ª—é—á
sudo wget https://enterprise.proxmox.com/debian/proxmox-release-bookworm.gpg \
  -O /etc/apt/trusted.gpg.d/proxmox-release-bookworm.gpg

# –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∏—Å–ø–æ–ª—å–∑—É–µ–º tee!)
echo "deb [arch=amd64] http://download.proxmox.com/debian/pve bookworm pve-no-subscription" | \
  sudo tee /etc/apt/sources.list.d/pve-install-repo.list

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo apt update
sudo apt install proxmox-auto-install-assistant
```

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–í–∞–º –Ω—É–∂–Ω—ã:
- USB —Ñ–ª–µ—à–∫–∞ (8GB+)
- ISO —Ñ–∞–π–ª Proxmox VE 9
- Ubuntu/Debian –º–∞—à–∏–Ω–∞ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º `proxmox-auto-install-assistant`

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–π —Ñ–ª–µ—à–∫–∏

```bash
# –í—Å—Ç–∞–≤—å—Ç–µ —Ñ–ª–µ—à–∫—É –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –µ—ë —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
lsblk

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç (–∑–∞–º–µ–Ω–∏—Ç–µ /dev/sdX –Ω–∞ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)
sudo ./create-proxmox-usb.sh /dev/sdX –ø—É—Ç—å/–∫/proxmox.iso
```

**–í–ê–ñ–ù–û**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/dev/sdb` –∏–ª–∏ `/dev/sdc`, –ù–ï `/dev/sda`!

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç `proxmox-auto-install-assistant`
2. –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç `answer.toml`
3. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç ISO —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º answer —Ñ–∞–π–ª–æ–º
4. –ó–∞–ø–∏—à–µ—Ç –Ω–∞ USB
5. –î–æ–±–∞–≤–∏—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Dell XPS L701X

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä** –∫ Mini DisplayPort
2. **–í–∫–ª—é—á–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä**
3. **–í—Å—Ç–∞–≤—å—Ç–µ USB** –≤ –Ω–æ—É—Ç–±—É–∫
4. **–í–∫–ª—é—á–∏—Ç–µ –Ω–æ—É—Ç–±—É–∫**
5. **–ù–∞–∂–º–∏—Ç–µ F12** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
6. **–í—ã–±–µ—Ä–∏—Ç–µ**: `UEFI: USB...` (–ù–ï "USB Storage Device")
7. **–ñ–î–ò–¢–ï 10 —Å–µ–∫—É–Ω–¥** - "Automated Installation" –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
8. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 –º–∏–Ω—É—Ç**
9. –°–∏—Å—Ç–µ–º–∞ **–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 4. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ù–∞–π–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å (–≤ DHCP —Å–ø–∏—Å–∫–µ —Ä–æ—É—Ç–µ—Ä–∞) –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å:

```bash
ssh root@<ip-–∞–¥—Ä–µ—Å>
# –ü–∞—Ä–æ–ª—å: Homelab2025!
```

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```
https://<ip-–∞–¥—Ä–µ—Å>:8006
```

–õ–æ–≥–∏–Ω: `root`
–ü–∞—Ä–æ–ª—å: `Homelab2025!`

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `auto-installer.yaml` –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º USB.

### –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –†–æ—Å—Å–∏–∏

```yaml
country: RU
timezone: Europe/Moscow
```

### –î–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP

–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:
```yaml
ipconfig:
  ip: 192.168.1.100/24
  gw: 192.168.1.1
  dns: 8.8.8.8
```

### –î–ª—è –¥—Ä—É–≥–æ–≥–æ –¥–∏—Å–∫–∞

```yaml
target_disk: /dev/nvme0n1  # –î–ª—è NVMe SSD
```

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è Dell XPS L701X

### –í–Ω–µ—à–Ω–∏–π –¥–∏—Å–ø–ª–µ–π

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–ª–æ–º–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Mini DisplayPort –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞.

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏:
```
video=vesafb:ywrap,mtrr vga=791 nomodeset
```

### –î–∏—Å–∫–∏

- **SSD 250GB** (`/dev/sda`) - —Å–∏—Å—Ç–µ–º–∞ Proxmox
  - 30GB –∫–æ—Ä–Ω–µ–≤–∞—è –§–°
  - 8GB swap
  - ~200GB –¥–ª—è VM
- **HDD 500GB** (`/dev/sdb`) - –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –°–µ—Ç—å

- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Ethernet** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- **USB-Ethernet** - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∂–¥—ë—Ç –≤–≤–æ–¥–∞ –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑–∞–ª "‚úì Prepared ISO created"
2. ISO –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω —Å `proxmox-auto-install-assistant`
3. –ñ–¥–∏—Ç–µ 10 —Å–µ–∫—É–Ω–¥ - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫!

### answer.toml validation failed

**–†–µ—à–µ–Ω–∏–µ**:
1. LVM –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `lvm.`: `lvm.swapsize = 8`
2. Country –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä: `country = "EE"`
3. –î–∏—Å–∫–∏ —Å `/dev/`: `disk_list = ["/dev/sda"]`
4. –ü—Ä–æ–≤–µ—Ä–∫–∞: `proxmox-auto-install-assistant validate-answer answer.toml`

### –í–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞**: –ß—ë—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –Ω–∞ –≤–Ω–µ—à–Ω–µ–º –º–æ–Ω–∏—Ç–æ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ**: –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```bash
sudo mount /dev/sdX2 /mnt
grep "video=vesafb" /mnt/boot/grub/grub.cfg
sudo umount /mnt
```

### USB –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
- –í—ã–±–∏—Ä–∞–π—Ç–µ **`UEFI: USB...`** (–ù–ï "USB Storage Device")
- –û—Ç–∫–ª—é—á–∏—Ç–µ Secure Boot –≤ BIOS
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π USB –ø–æ—Ä—Ç

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. **–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç ISO —á–µ—Ä–µ–∑ `dd`**
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≥–∏–±—Ä–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–≥—Ä—É–∑–∫–∏
   - –°–æ–∑–¥–∞—ë—Ç –∑–∞–≥—Ä—É–∑–æ—á–Ω—É—é USB –∫–∞–∫ balenaEtcher

2. **–ú–æ–Ω—Ç–∏—Ä—É–µ—Ç FAT32 —Ä–∞–∑–¥–µ–ª**
   - –û–±—ã—á–Ω–æ `/dev/sdX2`
   - –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏

3. **–î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
   - `/proxmox/auto-installer.yaml` - –∫–æ–Ω—Ñ–∏–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
   - `/proxmox/proxmox-post-install.sh` - –ø–æ—Å—Ç-—É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

4. **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç GRUB**
   - –î–æ–±–∞–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –í–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤–Ω–µ—à–Ω–µ–≥–æ –¥–∏—Å–ø–ª–µ—è

### –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤—â–∏–∫** Proxmox 8+
‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ **–∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–π —Ä–∞–∑–¥–µ–ª**
‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç **–≥–∏–±—Ä–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–≥—Ä—É–∑–∫–∏**
‚úÖ **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π** –º–µ—Ç–æ–¥

---

## –§–∞–π–ª—ã

- **`create-proxmox-usb.sh`** ‚≠ê - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
- **`auto-installer.yaml`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- **`proxmox-post-install.sh`** - –ü–æ—Å—Ç-—É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- **`–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md`** - –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–†—É—Å—Å–∫–∏–π)
- **`README-AUTOINSTALL.md`** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (English)

---

## –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞

```bash
# 1. –°–æ–∑–¥–∞—Ç—å USB
sudo ./create-proxmox-usb.sh /dev/sdX proxmox.iso

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —Å USB (F12 ‚Üí UEFI: USB)

# 3. –ù–∞–∂–∞—Ç—å 'a' –≤ –º–µ–Ω—é —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞

# 4. –ü–æ–¥–æ–∂–¥–∞—Ç—å 10-15 –º–∏–Ω—É—Ç

# 5. –í–æ–π—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
ssh root@<ip-–∞–¥—Ä–µ—Å>
```

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –º–µ—Ç–æ–¥ –¥–ª—è Proxmox 8+.** üéâ
