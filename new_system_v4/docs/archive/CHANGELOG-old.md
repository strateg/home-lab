# Changelog

## v2.5 - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: VPN —Å–µ—Ä–≤–µ—Ä—ã –Ω–∞ Slate AX (2025-10-06)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

‚ö° **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ü–µ—Ä–µ–Ω–æ—Å DNS –∏ VPN —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ GL-AXT1800 Slate AX –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è RAM –Ω–∞ Proxmox:

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `openwrt/home/wireguard-server-home.conf` (8.5K) - WireGuard VPN —Å–µ—Ä–≤–µ—Ä –Ω–∞ Slate AX
  - –î–æ–º–∞—à–Ω–∏–π VPN —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 51820 (UDP)
  - –°–µ—Ç—å: 10.0.200.0/24
  - –î–æ—Å—Ç—É–ø: Home LAN (192.168.20.0/24) + LXC (10.0.30.0/24) + Management (10.0.99.0/24)
  - PostUp/PostDown –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OPNsense
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ Port Forward –Ω–∞ OPNsense (WAN:51820 ‚Üí 192.168.10.2:51820)
  - –ü—Ä–∏–º–µ—Ä—ã peer –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

- ‚úÖ `openwrt/home/amneziawg-server-home.conf` (9.2K) - AmneziaWG VPN —Å–µ—Ä–≤–µ—Ä –¥–ª—è –†–æ—Å—Å–∏–∏
  - VPN —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –†–æ—Å—Å–∏–∏ (–ø–æ—Ä—Ç 51821 UDP)
  - –°–µ—Ç—å: 10.8.2.0/24
  - –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
  - –û–±—Ñ—É—Å–∫–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (Jc=5, Jmin/Jmax, S1/S2, H1-H4)
  - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤/–¥—Ä—É–∑–µ–π –≤ –†–æ—Å—Å–∏–∏
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ Port Forward –Ω–∞ OPNsense (WAN:51821 ‚Üí 192.168.10.2:51821)

- ‚úÖ `openwrt/scripts/setup-vpn-servers.sh` (12K) - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ VPN —Å–µ—Ä–≤–µ—Ä–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Ä–æ—É—Ç–µ—Ä–æ–º
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard (wireguard-tools, kmod-wireguard, luci-app-wireguard)
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AmneziaWG (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è mipsel_24kc)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π —Å–µ—Ä–≤–µ—Ä–æ–≤
  - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å PostUp/PostDown –ø—Ä–∞–≤–∏–ª–∞–º–∏
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ init.d —Å–∫—Ä–∏–ø—Ç—ã
  - –ó–∞–ø—É—Å–∫ VPN —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞
  - –í—ã–≤–æ–¥ –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

- ‚úÖ `openwrt/scripts/generate-vpn-client-configs.sh` (12K) - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è WireGuard –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è: slate-ax-travel, android-phone, laptop, ipad
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è AmneziaWG –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è: russia-client-1/2/3
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
  - –°–æ–∑–¥–∞–Ω–∏–µ QR –∫–æ–¥–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—á–µ—Ä–µ–∑ qrencode)
  - –í—ã–≤–æ–¥ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è peers –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  - Split tunnel –¥–ª—è WireGuard (–¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –¥–æ–º–∞—à–Ω–∏–º —Å–µ—Ç—è–º)
  - Full tunnel –¥–ª—è AmneziaWG (–≤–µ—Å—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ VPN)
  - –î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –≤ –∫–∞–∂–¥–æ–π —Å–µ—Ç–∏

- ‚úÖ `opnsense/configs/nginx-reverse-proxy-slate-ax.conf` (12K) - Nginx Reverse Proxy –Ω–∞ OPNsense
  - Upstream —Å–µ—Ä–≤–µ—Ä—ã: AdGuard Home (3000), GL.iNet UI (80), OpenWRT LuCI (81)
  - HTTPS –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã:
    - `adguard.home.local` ‚Üí 192.168.10.2:3000
    - `router.home.local` ‚Üí 192.168.10.2:80
    - `luci.home.local` ‚Üí 192.168.10.2:81
  - Rate limiting (10 req/s –æ–±—ã—á–Ω–æ, 5 req/min –¥–ª—è login endpoints)
  - Security headers (HSTS, X-Frame-Options, X-Content-Type-Options)
  - WebSocket support –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
  - SSL/TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (TLSv1.2/1.3)
  - HTTP ‚Üí HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤ OPNsense Web UI
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é self-signed SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
  - DNS Rewrites –¥–ª—è AdGuard Home

- ‚úÖ `opnsense/configs/firewall-rules-vpn-servers.txt` (14K) - Firewall –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è VPN —Å–µ—Ä–≤–µ—Ä–æ–≤
  - 14 firewall rules –¥–ª—è –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VPN access
  - Section 1: WAN ‚Üí LAN Port Forwarding (WireGuard 51820, AmneziaWG 51821)
  - Section 2: LAN ‚Üí Slate AX Access (AdGuard, GL.iNet UI, LuCI)
  - Section 3: VPN Clients ‚Üí Home Networks (WireGuard –∫–ª–∏–µ–Ω—Ç—ã ‚Üí LAN/LXC/MGMT)
  - Section 4: AmneziaWG Clients ‚Üí Internet only (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π)
  - Section 5: LXC ‚Üí Slate AX Services (DNS, AdGuard Web UI)
  - Section 6: Management ‚Üí Slate AX (–ø–æ–ª–Ω—ã–π admin –¥–æ—Å—Ç—É–ø)
  - Section 7: Nginx Reverse Proxy Access (HTTPS 443)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –≤ OPNsense Web UI
  - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ OPNsense Live View

- ‚úÖ `docs/OPTIMIZED-ARCHITECTURE.md` (10K) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - ASCII –¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –î–û/–ü–û–°–õ–ï (RAM usage, VPN capabilities)
  - Nginx Reverse Proxy –¥–∏–∞–≥—Ä–∞–º–º–∞
  - Port Forwarding —Å—Ö–µ–º–∞
  - –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã (HOME vs TRAVEL)
  - –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
  - Quick Start –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Proxmox RAM, VPN status, Nginx logs)
  - –°—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- ‚úÖ `/tmp/optimized-architecture-slate-ax.md` (700+ —Å—Ç—Ä–æ–∫) - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –°–æ–∑–¥–∞–Ω–∞ —Ä–∞–Ω–µ–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- ‚úÖ `/tmp/architecture-optimization-summary.md` - Executive summary
  - –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –°–æ–∑–¥–∞–Ω–∞ —Ä–∞–Ω–µ–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–æ

**README.md:**
- ‚úèÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "‚ö° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)"
  - –î–∏–∞–≥—Ä–∞–º–º–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  - –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Slate AX
  - –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - Quick Start –∫–æ–º–∞–Ω–¥—ã
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Ñ–∞–π–ª—ã VPN —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ Nginx config)
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è OpenWRT Router:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ firmware 4.8.2 (OpenWRT 23.05)
  - –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: VPN Multi-Instance, VPN Composite Policy, IPv6 VPN
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è AdGuard Home:
  - –î–æ–±–∞–≤–ª–µ–Ω –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Nginx Reverse Proxy (https://adguard.home.local)
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä—ë—Ö —Å–ø–æ—Å–æ–±–∞—Ö –¥–æ—Å—Ç—É–ø–∞ –∫ Slate AX —Å–µ—Ä–≤–∏—Å–∞–º
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–†–µ–∂–∏–º –í –ü–û–ï–ó–î–ö–ï":
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ VPN Multi-Instance (–Ω–µ—Å–∫–æ–ª—å–∫–æ VPN –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ VPN Composite Policy (—É–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π firmware 4.8.2
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ "–î–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å":
  - –î–æ–±–∞–≤–ª–µ–Ω—ã VPN —Å–µ—Ç–∏: VPN Home (10.0.200.0/24), VPN Russia (10.8.2.0/24)
  - –ü–æ—è—Å–Ω–µ–Ω–∏—è –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–π VPN —Å–µ—Ç–∏
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ "VPN –°–µ—Ä–≤–µ—Ä—ã":
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–µ—Ä–≤–µ—Ä—ã –Ω–∞ Slate AX (WireGuard –∏ AmneziaWG)
  - –ü–æ—è—Å–Ω–µ–Ω–∏—è –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úèÔ∏è –ù–æ–≤—ã–µ FAQ:
  - "–ó–∞—á–µ–º –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ GL-AXT1800 Slate AX –µ—Å–ª–∏ –µ—Å—Ç—å Proxmox?"
  - "–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É WireGuard Server –Ω–∞ Slate AX –∏ OPNsense?"
  - "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Slate AX —á–µ—Ä–µ–∑ HTTPS —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏?"
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è: 2.1 ‚Üí 2.5 (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–∞—Ç–∞: 2025-01-06 ‚Üí 2025-10-06

**GL-AXT1800-NOTES.md:**
- ‚úèÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "2. –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ firmware 4.8.2"
  - VPN Multi-Instance (–Ω–µ—Å–∫–æ–ª—å–∫–æ VPN –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
  - VPN Composite Policy (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –¥–æ–º–µ–Ω–∞–º/IP/MAC)
  - IPv6 VPN support
  - Guest Network Isolation
  - –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (OpenVPN 2.6.12, etc.)
- ‚úèÔ∏è –û–±–Ω–æ–≤–ª—ë–Ω –Ω–æ–º–µ—Ä –ø—Ä–æ—à–∏–≤–∫–∏: "firmware 4.x.x" ‚Üí "firmware 4.8.2 (OpenWRT 23.05)"
- ‚úèÔ∏è –ü–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã —Å–µ–∫—Ü–∏–∏ 3-8 (–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å–µ–∫—Ü–∏–∏ 2)

**–°–µ—Ç–µ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
- ‚úèÔ∏è `openwrt/home/openwrt-home-network`
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è 3 –ø–æ—Ä—Ç–æ–≤ (lan1, lan2 –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ lan)
  - DSA bridge –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è GL-AXT1800
- ‚úèÔ∏è `openwrt/travel/openwrt-travel-network`
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è 3 –ø–æ—Ä—Ç–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### –ü—Ä–æ–±–ª–µ–º–∞ (–î–û)

```
Dell XPS L701X (Proxmox):
  - RAM: 8 GB (–Ω–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è)
  - OPNsense VM: 2 GB
  - 9 LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: ~4 GB
  - AdGuard (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å): 0.2 GB
  - VPN —Å–µ—Ä–≤–µ—Ä—ã (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å): 0.3 GB
  - –°–≤–æ–±–æ–¥–Ω–æ: ~0.5 GB ‚ùå (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –º–∞–ª–æ!)
```

#### –†–µ—à–µ–Ω–∏–µ (–ü–û–°–õ–ï)

```
Dell XPS L701X (Proxmox):
  - OPNsense VM: 2 GB
  - 9 LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: ~4 GB
  - –°–≤–æ–±–æ–¥–Ω–æ: ~1.5 GB ‚úÖ (+1 GB –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ!)

GL-AXT1800 Slate AX (512MB RAM):
  - AdGuard Home: ~100 MB
  - WireGuard Server: ~20 MB
  - AmneziaWG Server: ~20 MB
  - OpenWRT + WiFi: ~150 MB
  - –°–≤–æ–±–æ–¥–Ω–æ: ~220 MB ‚úÖ
```

#### –î–∏–∞–≥—Ä–∞–º–º–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
Internet
   ‚Üì
OPNsense (Proxmox VM)
   ‚îú‚îÄ Nginx Reverse Proxy (HTTPS)
   ‚îÇ  ‚îú‚îÄ https://adguard.home.local ‚Üí 192.168.10.2:3000
   ‚îÇ  ‚îú‚îÄ https://router.home.local ‚Üí 192.168.10.2:80
   ‚îÇ  ‚îî‚îÄ https://luci.home.local ‚Üí 192.168.10.2:81
   ‚îÇ
   ‚îî‚îÄ Port Forward
      ‚îú‚îÄ WAN:51820 ‚Üí 192.168.10.2:51820 (WireGuard)
      ‚îî‚îÄ WAN:51821 ‚Üí 192.168.10.2:51821 (AmneziaWG)
   ‚Üì
GL-AXT1800 Slate AX (192.168.10.2)
   ‚îú‚îÄ AdGuard Home (DNS –¥–ª—è –≤—Å–µ–π —Å–µ—Ç–∏)
   ‚îú‚îÄ WireGuard Server (–¥–æ–º–∞—à–Ω–∏–π VPN)
   ‚îú‚îÄ AmneziaWG Server (VPN –¥–ª—è –†–æ—Å—Å–∏–∏)
   ‚îî‚îÄ WiFi Access Point
   ‚Üì
Home Clients (192.168.20.0/24)
```

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### 1. VPN –°–µ—Ä–≤–µ—Ä—ã –Ω–∞ Slate AX

**WireGuard Server (10.0.200.0/24):**
- –î–æ–º–∞—à–Ω–∏–π VPN –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –î–æ—Å—Ç—É–ø –∫: Home LAN + LXC services + Management network
- –ö–ª–∏–µ–Ω—Ç—ã: slate-ax-travel, android-phone, laptop, ipad

**AmneziaWG Server (10.8.2.0/24):**
- VPN —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –†–æ—Å—Å–∏–∏
- –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤/–¥—Ä—É–∑–µ–π

#### 2. Nginx Reverse Proxy –Ω–∞ OPNsense

**–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π HTTPS –¥–æ—Å—Ç—É–ø:**
- https://adguard.home.local (AdGuard Home)
- https://router.home.local (GL.iNet Web UI)
- https://luci.home.local (OpenWRT LuCI)

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- HTTPS —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è (self-signed SSL)
- Rate limiting (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
- Security headers (HSTS, X-Frame-Options)
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 3. VPN Multi-Instance (firmware 4.8.2)

**–ù–µ—Å–∫–æ–ª—å–∫–æ VPN –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ Travel —Ä–µ–∂–∏–º–µ:**
```
GL-AXT1800 (–≤ –ø–æ–µ–∑–¥–∫–µ):
  ‚îú‚îÄ Oracle VPN (–æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)
  ‚îú‚îÄ Russia VPN (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π IP)
  ‚îî‚îÄ Home VPN (–¥–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å)
```

#### 4. VPN Composite Policy (firmware 4.8.2)

**–£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –¥–æ–º–µ–Ω–∞–º/IP/MAC:**
- `sberbank.ru` ‚Üí Russia VPN (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π IP)
- `192.168.20.0/24` ‚Üí Home VPN (–¥–æ–º–∞—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã)
- –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Üí Oracle VPN (–æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

**–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ VPN —Å–µ—Ä–≤–µ—Ä–æ–≤ (5-10 –º–∏–Ω—É—Ç)
bash openwrt/scripts/setup-vpn-servers.sh

# 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (2-3 –º–∏–Ω—É—Ç—ã)
bash openwrt/scripts/generate-vpn-client-configs.sh

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (—Ä—É—á–Ω–∞—è —á–µ—Ä–µ–∑ Web UI)
# –°–º. opnsense/configs/nginx-reverse-proxy-slate-ax.conf

# 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ firewall rules (—Ä—É—á–Ω–∞—è —á–µ—Ä–µ–∑ Web UI)
# –°–º. opnsense/configs/firewall-rules-vpn-servers.txt
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- üöÄ **+1 GB RAM –Ω–∞ Proxmox** (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–µ LXC)
- üöÄ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Proxmox (DNS/VPN –Ω–µ —Å–æ–∑–¥–∞—é—Ç CPU load)

**–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:**
- ‚úÖ VPN —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Proxmox (–µ—Å–ª–∏ Proxmox –≤—ã–∫–ª—é—á–µ–Ω)
- ‚úÖ –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (—Ä–æ—É—Ç–µ—Ä –Ω–∞–¥—ë–∂–Ω–µ–µ VM)

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- üîí Nginx Reverse Proxy (HTTPS, rate limiting)
- üîí –ò–∑–æ–ª—è—Ü–∏—è AmneziaWG –∫–ª–∏–µ–Ω—Ç–æ–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ LAN)
- üîí –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π firewall –∫–æ–Ω—Ç—Ä–æ–ª—å

**–£–¥–æ–±—Å—Ç–≤–æ:**
- üéØ –ö—Ä–∞—Å–∏–≤—ã–µ –¥–æ–º–µ–Ω—ã (`adguard.home.local`)
- üéØ HTTPS –≤–µ–∑–¥–µ
- üéØ VPN Multi-Instance (–Ω–µ—Å–∫–æ–ª—å–∫–æ VPN –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
- üéØ VPN Composite Policy (—É–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**Proxmox RAM:**
```bash
free -h
# –û–∂–∏–¥–∞–µ—Ç—Å—è: Used ~6.5 GB, Free ~1.5 GB (–±—ã–ª–æ ~0.5 GB)
```

**VPN status –Ω–∞ Slate AX:**
```bash
ssh root@192.168.20.1
wg show wg0     # WireGuard
awg show awg0   # AmneziaWG
```

**Nginx logs:**
```bash
# –ù–∞ OPNsense
tail -f /var/log/nginx/adguard_access.log
tail -f /var/log/nginx/router_access.log
```

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ GL.iNet GL-AXT1800 (firmware 4.8.2, OpenWRT 23.05)
- ‚úÖ Proxmox VE 8.x
- ‚úÖ OPNsense 24.x
- ‚úÖ Dell XPS L701X (8GB RAM)

---

## v2.4.1 - Home Mode Russia VPN (2025-10-04)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

‚úÖ **Home Mode –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è Russia VPN** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Russia VPN –∫–æ–≥–¥–∞ —Ä–æ—É—Ç–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –¥–æ–º–∞ –∑–∞ OPNsense firewall:

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `openwrt-home-russia-vpn.conf` (15K) - –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Home Mode
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Russia VPN —á–µ—Ä–µ–∑ OPNsense firewall
  - –¢–∞ –∂–µ AmneziaWG –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–∫ –≤ Travel Mode
  - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OPNsense (192.168.10.1)
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Ä–∞–∑–Ω–∏—Ü–µ Home vs Travel —Ä–µ–∂–∏–º–æ–≤

- ‚úÖ `opnsense-russia-vpn-firewall.txt` (20K) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OPNsense firewall –¥–ª—è Russia VPN
  - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è OPNsense Web UI
  - 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø—Ä–æ—Å—Ç–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, —Å alias)
  - Alias –¥–ª—è Russia VPS IP –∏ VPN –ø–æ—Ä—Ç–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
  - NAT –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è)
  - CLI –∏ API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
  - Troubleshooting –¥–ª—è firewall

- ‚úÖ `HOME-RUSSIA-VPN-SETUP.md` (22K) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Home Mode Russia VPN
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: OpenWRT ‚Üí OPNsense ‚Üí Russia VPS
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OPNsense firewall (Web UI)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Russia VPN –¥–æ–º–∞
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VPN Selector (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö)
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ OPNsense (firewall logs, states)
  - Troubleshooting (handshake, routing, —Å–∫–æ—Ä–æ—Å—Ç—å)
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Home vs Travel —Ä–µ–∂–∏–º–æ–≤
  - –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Russia VPN –¥–æ–º–∞ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –†–§ —Å–µ—Ä–≤–∏—Å—ã, geo-–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)

### –û–±–Ω–æ–≤–ª–µ–Ω–æ

**Firewall –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
- ‚úèÔ∏è `openwrt-home-firewall`
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ Russia VPN –∑–æ–Ω–∞ (`russiavpn`)
  - Forwarding –ø—Ä–∞–≤–∏–ª–æ LAN ‚Üí Russia VPN
  - –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –∏—Å—Ö–æ–¥—è—â–µ–≥–æ UDP 51822
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ OPNsense

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚úèÔ∏è `README.md`
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "5. Russia VPS" (—É–∫–∞–∑–∞–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Home –∏ Travel)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ–º–∞ (—á–µ—Ä–µ–∑ OPNsense)"
  - –ù–æ–≤—ã–π FAQ "–ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Russia VPN –Ω–∞—Ö–æ–¥—è—Å—å –¥–æ–º–∞?"
  - –°—Å—ã–ª–∫–∏ –Ω–∞ `HOME-RUSSIA-VPN-SETUP.md` –∏ `opnsense-russia-vpn-firewall.txt`

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Home Mode —Å Russia VPN

```
Internet ‚Üí ISP Router ‚Üí Proxmox WAN bridge
                           ‚Üì
                      OPNsense VM
                      (Firewall: Pass UDP 51822)
                           ‚Üì
                    Proxmox LAN bridge
                           ‚Üì
                      OpenWRT Router (192.168.10.2)
                      (Russia VPN: awg1)
                           ‚Üì
                  –¢—Ä–∞—Ñ–∏–∫ ‚Üí OPNsense ‚Üí Internet ‚Üí Russia VPS
```

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–º–∞

- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–µ—Ä–µ–¥ –ø–æ–µ–∑–¥–∫–æ–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ Russia VPN)
- ‚úÖ **–î–æ—Å—Ç—É–ø –∫ –†–§ —Å–µ—Ä–≤–∏—Å–∞–º** –Ω–∞—Ö–æ–¥—è—Å—å –¥–æ–º–∞ (–±–∞–Ω–∫–∏, —Å—Ç—Ä–∏–º–∏–Ω–≥)
- ‚úÖ **–û–±—Ö–æ–¥ geo-–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** (—Å–µ—Ä–≤–∏—Å—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –†–§)
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Russia VPN

### VPN Selector —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Home Mode

```bash
# –í —Ä–µ–∂–∏–º–µ Home (–∑–∞ OPNsense):
vpn russia  # ‚Üí —á–µ—Ä–µ–∑ OPNsense ‚Üí Russia VPS
vpn oracle  # ‚Üí —á–µ—Ä–µ–∑ OPNsense ‚Üí Oracle Cloud
vpn home    # ‚Üí –∫ OPNsense WireGuard (–Ω–µ –Ω—É–∂–µ–Ω, —É–∂–µ –¥–æ–º–∞)
vpn status  # ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π VPN
```

---

## v2.4 - Russia VPS –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ IP (2025-10-03)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

‚úÖ **Russia VPS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ IP –∞–¥—Ä–µ—Å–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –†–§ —Å–µ—Ä–≤–∏—Å–∞–º –∏–∑-–∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã:

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `russia-vps-amneziawg.conf` (6.8K) - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AmneziaWG –¥–ª—è Russia VPS
  - –ü–æ–¥—Å–µ—Ç—å 10.9.1.0/24 (–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Oracle 10.8.2.0/24)
  - –ü–æ—Ä—Ç 51822 (–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Oracle 51821)
  - –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ–±—Ñ—É—Å–∫–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (Jc=7, H1-H4 –∏–Ω–≤–µ—Ä—Å–∏—è –æ—Ç Oracle)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ Timeweb/REG.RU/Selectel
  - Firewall –∏ systemd –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- ‚úÖ `openwrt-travel-russia-client.conf` (9.7K) - –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è GL-AXT1800 ‚Üí Russia VPS
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ IP –∞–¥—Ä–µ—Å–∞
  - DNS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (8.8.8.8 –∏–ª–∏ –Ø–Ω–¥–µ–∫—Å DNS)
  - Routing —á–µ—Ä–µ–∑ VPN
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å /etc/config/network

- ‚úÖ `openwrt-vpn-selector.sh` (12K) - –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É 3 VPN
  - **Oracle Cloud** (`vpn oracle`) - –æ–±—Ö–æ–¥ DPI –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –†–§
  - **Russia VPS** (`vpn russia`) - —Ä–æ—Å—Å–∏–π—Å–∫–∏–π IP –∞–¥—Ä–µ—Å
  - **Home** (`vpn home`) - –¥–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å Proxmox
  - –ö–æ–º–∞–Ω–¥—ã: start/stop/status/help
  - –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ handshake –∏ external IP
  - Alias –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞: `vpn russia` –≤–º–µ—Å—Ç–æ `/root/vpn-selector.sh russia`

- ‚úÖ **RUSSIA-VPS-SETUP.md** (17K) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ VPS
  - –í—ã–±–æ—Ä —Ö–æ—Å—Ç–∏–Ω–≥–∞ (Timeweb/REG.RU/Selectel)
  - –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ VPS (Ubuntu 22.04)
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (SSH –ø–æ—Ä—Ç, Fail2ban, ufw)
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ AmneziaWG
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ GL-AXT1800
  - Production –∑–∞–ø—É—Å–∫ —Å systemd
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
  - Troubleshooting
  - FAQ

### –û–±–Ω–æ–≤–ª–µ–Ω–æ

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚úèÔ∏è `README.md`
  - –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "5. Russia VPS (–†–æ—Å—Å–∏–π—Å–∫–∏–π IP –∞–¥—Ä–µ—Å)"
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "6. VPN –ü—Ä–æ—Ç–æ–∫–æ–ª—ã" (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ Oracle vs Russia)
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ "VPN –°–µ—Ä–≤–µ—Ä—ã" (3 —Å–µ—Ä–≤–µ—Ä–∞)
  - –ù–æ–≤—ã–µ FAQ: "–ó–∞—á–µ–º –Ω—É–∂–µ–Ω —Ä–æ—Å—Å–∏–π—Å–∫–∏–π VPS?", "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?", "–ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è?"
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ VPN Selector —Å–∫—Ä–∏–ø—Ç–µ

- ‚úèÔ∏è `QUICK-REFERENCE.md`
  - –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "Russia VPS (–†–æ—Å—Å–∏–π—Å–∫–∏–π IP)"
  - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AmneziaWG –Ω–∞ Russia VPS
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Russia VPS
  - –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "VPN Selector (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É 3 VPN)"
  - –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VPN selector
  - –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–°–±–µ—Ä–±–∞–Ω–∫, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, Proxmox)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ VPN (3 –º–µ—Ç–æ–¥–∞)
  - Firewall –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–æ—Ä—Ç–∞ 51822

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å 3 VPN

```
GL-AXT1800 Travel Router
  ‚îÇ
  ‚îú‚îÄ awg0 ‚Üí Oracle Cloud (10.8.2.2, –ø–æ—Ä—Ç 51821)
  ‚îÇ         ‚îî‚îÄ –û–±—Ö–æ–¥ DPI –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –†–§
  ‚îÇ         ‚îî‚îÄ –ö–æ–≥–¥–∞: –í –†–æ—Å—Å–∏–∏, –Ω—É–∂–µ–Ω –æ–±—Ö–æ–¥
  ‚îÇ
  ‚îú‚îÄ awg1 ‚Üí Russia VPS (10.9.1.2, –ø–æ—Ä—Ç 51822)
  ‚îÇ         ‚îî‚îÄ –†–æ—Å—Å–∏–π—Å–∫–∏–π IP –∞–¥—Ä–µ—Å
  ‚îÇ         ‚îî‚îÄ –ö–æ–≥–¥–∞: –ó–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π, –Ω—É–∂–µ–Ω –†–§ IP
  ‚îÇ
  ‚îî‚îÄ wg0 ‚Üí Home (10.0.200.10, –ø–æ—Ä—Ç 51820)
            ‚îî‚îÄ –î–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å Proxmox
            ‚îî‚îÄ –ö–æ–≥–¥–∞: –ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –¥–æ–º—É
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ VPN –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

```bash
vpn russia  # –†–æ—Å—Å–∏–π—Å–∫–∏–π IP (–°–±–µ—Ä–±–∞–Ω–∫, –ì–æ—Å—É—Å–ª—É–≥–∏, —Å—Ç—Ä–∏–º–∏–Ω–≥)
vpn oracle  # –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (–≤ –†–æ—Å—Å–∏–∏)
vpn home    # –î–æ—Å—Ç—É–ø –∫ –¥–æ–º–∞—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º
vpn status  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π VPN
vpn off     # –û—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ VPN
```

### –°–µ—Ä–≤–∏—Å—ã —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º IP

**–ü–æ—Å–ª–µ `vpn russia` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:**
- üè¶ –ë–∞–Ω–∫–∏ –†–§: –°–±–µ—Ä–±–∞–Ω–∫, –¢–∏–Ω—å–∫–æ—Ñ—Ñ, –í–¢–ë, –ê–ª—å—Ñ–∞-–±–∞–Ω–∫
- üèõÔ∏è –ì–æ—Å—É—Å–ª—É–≥–∏ (gosuslugi.ru)
- üì∫ –°—Ç—Ä–∏–º–∏–Ω–≥: Okko, Kinopoisk, START, Match TV
- üõçÔ∏è –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã: Wildberries, Ozon
- üéµ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞, –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫, –Ø–Ω–¥–µ–∫—Å —Å–µ—Ä–≤–∏—Å—ã
- üì± –í–ö–æ–Ω—Ç–∞–∫—Ç–µ, –û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏
- üì∞ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–Ω—ã–µ —Å–∞–π—Ç—ã

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏ –¥–ª—è Russia VPS

| –•–æ—Å—Ç–∏–Ω–≥ | –¶–µ–Ω–∞/–º–µ—Å | RAM | –û–ø–ª–∞—Ç–∞ | –†–µ–π—Ç–∏–Ω–≥ |
|---------|----------|-----|--------|---------|
| **Timeweb VPS-1** | 200‚ÇΩ (~$2) | 2GB | –ö–∞—Ä—Ç–∞ –†–§, –ö—Ä–∏–ø—Ç–∞ | üèÜ #1 |
| **REG.RU VPS Linux-1** | 150‚ÇΩ (~$1.5) | 2GB | –ö–∞—Ä—Ç–∞ –†–§, –ö—Ä–∏–ø—Ç–∞ | ‚≠ê #2 |
| **Selectel Cloud** | 500‚ÇΩ (~$5) | 2GB | –ö–∞—Ä—Ç–∞ –†–§ | ‚≠ê #3 |

**–í—ã–±–æ—Ä:** Timeweb VPS-1 (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∫—Ä–∞—Ç–∫–∞—è)

**1. –ó–∞–∫–∞–∑–∞—Ç—å VPS:**
- Timeweb ‚Üí VPS-1 ‚Üí Ubuntu 22.04 ‚Üí –ú–æ—Å–∫–≤–∞/–°–ü–±

**2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:**
```bash
ssh root@VPS_IP
wget https://github.com/amnezia-vpn/amneziawg-linux-kernel-module/releases/latest/download/amneziawg-install.sh
./amneziawg-install.sh
cp russia-vps-amneziawg.conf /etc/amnezia/amneziawg-russia/awg1.conf
systemctl enable awg-quick@awg1
systemctl start awg-quick@awg1
```

**3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–ª–∏–µ–Ω—Ç:**
```bash
# –ù–∞ GL-AXT1800
mkdir -p /etc/amnezia/amneziawg-russia
awg genkey | tee client_privatekey | awg pubkey > client_publickey
# –î–æ–±–∞–≤–∏—Ç—å public key –Ω–∞ —Å–µ—Ä–≤–µ—Ä
cp openwrt-travel-russia-client.conf /etc/amnezia/amneziawg-russia/awg1.conf
```

**4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VPN Selector:**
```bash
cp openwrt-vpn-selector.sh /root/vpn-selector.sh
chmod +x /root/vpn-selector.sh
echo "alias vpn='/root/vpn-selector.sh'" >> /etc/profile
```

**5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
```bash
vpn russia   # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Russia VPS
vpn status   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å IP
curl ifconfig.me  # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–π IP
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã –Ω–∞ Russia VPS:**
- ‚úÖ –°–º–µ–Ω–∞ SSH –ø–æ—Ä—Ç–∞ (22 ‚Üí 2222)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Fail2ban
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ufw firewall (—Ç–æ–ª—å–∫–æ 51822 UDP + SSH)
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ cron

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫–æ–π VPN?

| –ì–¥–µ –≤—ã? | –ß—Ç–æ –Ω—É–∂–Ω–æ? | –ö–∞–∫–æ–π VPN? | –ö–æ–º–∞–Ω–¥–∞ |
|---------|------------|------------|---------|
| **–í –†–æ—Å—Å–∏–∏** | –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ | Oracle Cloud | `vpn oracle` |
| **–ó–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π** | –°–±–µ—Ä–±–∞–Ω–∫, –ì–æ—Å—É—Å–ª—É–≥–∏ | Russia VPS | `vpn russia` |
| **–í –ø–æ–µ–∑–¥–∫–µ** | –î–æ–º–∞—à–Ω–∏–π Proxmox | Home | `vpn home` |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞** | –ö–∞–∫–æ–π VPN –∞–∫—Ç–∏–≤–µ–Ω? | - | `vpn status` |

### –°—Ç–æ–∏–º–æ—Å—Ç—å

- **Oracle Cloud:** Free Forever (Always Free tier)
- **Russia VPS:** 200‚ÇΩ/–º–µ—Å (~$2)
- **–î–æ–º–∞—à–Ω–∏–π Proxmox:** –°—Ç–æ–∏–º–æ—Å—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞
- **–ò—Ç–æ–≥–æ:** ~$2/–º–µ—Å –¥–ª—è –≤—Å–µ—Ö 3 VPN

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ GL.iNet GL-AXT1800 (firmware 4.8.2, OpenWRT 23.05)
- ‚úÖ Oracle Cloud (Ubuntu 22.04 LTS)
- ‚úÖ Timeweb / REG.RU / Selectel VPS (Ubuntu 22.04)
- ‚úÖ –î–æ–º–∞—à–Ω–∏–π Proxmox + OPNsense
- ‚úÖ Android/iOS/Desktop (—á–µ—Ä–µ–∑ Amnezia VPN –∫–ª–∏–µ–Ω—Ç—ã)

---

## v2.3 - AmneziaWG –¥–ª—è –æ–±—Ö–æ–¥–∞ DPI –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (2025-10-03)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

‚úÖ **AmneziaWG –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - VPN —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –†–æ—Å—Å–∏–∏:

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `oracle-cloud-amneziawg.conf` (7.2K) - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AmneziaWG
  - –û–±—Ñ—É—Å–∫–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (Jc, Jmin, Jmax, S1, S2, H1-H4)
  - –ü–æ–¥—Å–µ—Ç—å 10.8.2.0/24 (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å WireGuard 10.8.1.0/24)
  - –ü–æ—Ä—Ç 51821 (–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç WireGuard 51820)
  - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ Oracle Cloud
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall –∏ systemd

- ‚úÖ `openwrt-travel-amneziawg-client.conf` (5.8K) - –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è GL-AXT1800
  - –¢–µ –∂–µ –æ–±—Ñ—É—Å–∫–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á—Ç–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ AmneziaWG –Ω–∞ OpenWRT
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å /etc/config/network –∏ firewall
  - –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ init script

- ‚úÖ `openwrt-amneziawg-failover.sh` (6.5K) - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: AmneziaWG (primary) ‚Üí WireGuard (fallback)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ handshake –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ —Å–±–æ—è—Ö
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ /var/log/vpn-failover.log
  - –ö–æ–º–∞–Ω–¥—ã: start/stop/restart/status/check

- ‚úÖ **AMNEZIAWG-SETUP.md** (18K) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
  - –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (Oracle Cloud)
  - –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ (GL-AXT1800)
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –∏ –æ–±—Ñ—É—Å–∫–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ troubleshooting
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ WireGuard vs AmneziaWG
  - FAQ –∏ –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–æ

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚úèÔ∏è `README.md` - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "VPN –ü—Ä–æ—Ç–æ–∫–æ–ª—ã"
  - –û–ø–∏—Å–∞–Ω–∏–µ WireGuard –∏ AmneziaWG
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–í –ø–æ–µ–∑–¥–∫–µ" —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º AmneziaWG
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "Oracle Cloud" —Å –¥–≤—É–º—è VPN —Å–µ—Ä–≤–µ—Ä–∞–º–∏
  - –ù–æ–≤—ã–µ FAQ: "–ë—É–¥–µ—Ç –ª–∏ VPN —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –†–æ—Å—Å–∏–∏?"
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ IP –∞–¥—Ä–µ—Å–∞—Ü–∏—è (10.8.1.0/24 –∏ 10.8.2.0/24)

- ‚úèÔ∏è `QUICK-REFERENCE.md` - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è AmneziaWG
  - –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "AmneziaWG - VPN —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π"
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π (`awg genkey`, `awg genpsk`)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª—è–º–∏ (`awg-quick up/down`, `awg show`)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ failover —Å–∫—Ä–∏–ø—Ç
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ VPN (awg0 vs wg0)
  - Speedtest —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
  - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è Oracle Cloud (systemd, journalctl, tcpdump)
  - Firewall –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–æ—Ä—Ç–∞ 51821

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ AmneziaWG

#### 1. –û–±—Ñ—É—Å–∫–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
```
–û–±—ã—á–Ω—ã–π WireGuard:
Router ‚Üí WG packets ‚Üí ISP DPI ‚Üí "–≠—Ç–æ VPN!" ‚Üí –ë–õ–û–ö–ò–†–û–í–ö–ê

AmneziaWG:
Router ‚Üí AWG packets ‚Üí ISP DPI ‚Üí "–û–±—ã—á–Ω—ã–π UDP" ‚Üí –ü–†–û–ü–£–°–ö
```

#### 2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏
- **Jc = 5** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—É—Å–æ—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- **Jmin/Jmax** - —Ä–∞–∑–º–µ—Ä—ã –º—É—Å–æ—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (50-1000 bytes)
- **S1/S2** - —Ä–∞–∑–º–µ—Ä –º—É—Å–æ—Ä–∞ –≤ init/response –ø–∞–∫–µ—Ç–∞—Ö
- **H1-H4** - –º–∞–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–º–∞—Å–∫–∏—Ä—É—é—Ç WireGuard signature)

#### 3. Dual VPN –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
GL-AXT1800 Travel Router
  ‚îú‚îÄ AmneziaWG (awg0) ‚Üí 10.8.2.2 ‚Üí Priority 1
  ‚îÇ  ‚îî‚îÄ –û–±—Ö–æ–¥ DPI, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –†–§
  ‚îÇ
  ‚îî‚îÄ WireGuard (wg0) ‚Üí 10.8.1.2 ‚Üí Priority 2
     ‚îî‚îÄ Fallback, –µ—Å–ª–∏ AWG –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
```

#### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
- Failover —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ï—Å–ª–∏ AmneziaWG –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ WireGuard
- –ï—Å–ª–∏ –æ–±–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç ‚Üí –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- –õ–æ–≥–∏ –≤ /var/log/vpn-failover.log

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ü—Ä–æ—Ç–æ–∫–æ–ª | –°–∫–æ—Ä–æ—Å—Ç—å | Latency | DPI Bypass |
|----------|----------|---------|------------|
| WireGuard | 90-95 Mbps | 15-20 ms | ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è |
| AmneziaWG | 85-90 Mbps | 20-25 ms | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

**–í—ã–≤–æ–¥:** AmneziaWG ~5-10% –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–º, –≥–¥–µ WireGuard –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å WireGuard (—Ä–∞–∑–Ω—ã–µ –ø–æ—Ä—Ç—ã –∏ –ø–æ–¥—Å–µ—Ç–∏)
- ‚úÖ GL.iNet GL-AXT1800 (firmware 4.8.2, OpenWRT 23.05)
- ‚úÖ Oracle Cloud (Ubuntu 22.04 LTS)
- ‚úÖ –†–æ—Å—Å–∏—è, –ö–∏—Ç–∞–π, –ò—Ä–∞–Ω, —Å—Ç—Ä–∞–Ω—ã —Å DPI

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∫—Ä–∞—Ç–∫–∞—è)

**–°–µ—Ä–≤–µ—Ä:**
```bash
wget https://github.com/amnezia-vpn/amneziawg-linux-kernel-module/releases/latest/download/amneziawg-install.sh
sudo ./amneziawg-install.sh
sudo cp oracle-cloud-amneziawg.conf /etc/amnezia/amneziawg/awg0.conf
sudo systemctl enable awg-quick@awg0
```

**–ö–ª–∏–µ–Ω—Ç:**
```bash
opkg install kmod-amneziawg_*.ipk amneziawg-tools_*.ipk
cp openwrt-travel-amneziawg-client.conf /etc/amnezia/amneziawg/awg0.conf
awg-quick up awg0
```

**Failover:**
```bash
cp openwrt-amneziawg-failover.sh /root/
chmod +x /root/amneziawg-failover.sh
/root/amneziawg-failover.sh start
```

### –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AmneziaWG?

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –†–æ—Å—Å–∏–∏:**
- WireGuard –∞–∫—Ç–∏–≤–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è DPI —Å 2024 –≥–æ–¥–∞
- AmneziaWG –º–∞—Å–∫–∏—Ä—É–µ—Ç VPN —Ç—Ä–∞—Ñ–∏–∫ ‚Üí –æ–±—Ö–æ–¥–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –æ–±—Ö–æ–¥–∞ —Ü–µ–Ω–∑—É—Ä—ã

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –¢–∞ –∂–µ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è —á—Ç–æ –∏ WireGuard (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- ‚úÖ –ü–æ—á—Ç–∏ —Ç–∞–∫–∞—è –∂–µ —Å–∫–æ—Ä–æ—Å—Ç—å (~5-10% overhead)
- ‚úÖ Open source (https://github.com/amnezia-vpn)
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è

---

## v2.2 - Dual UI —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è GL.iNet (2025-10-03)

### –ò–∑–º–µ–Ω–µ–Ω–æ

‚úèÔ∏è **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GL.iNet UI:**
- **–ë–´–õ–û:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —É–¥–∞–ª–∏—Ç—å GL.iNet UI, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ LuCI
- **–°–¢–ê–õ–û:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!
  - GL.iNet UI (http://192.168.20.1) - –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á
  - OpenWRT LuCI (http://192.168.20.1:81) - –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úèÔ∏è `GL-AXT1800-NOTES.md` - –†–∞–∑–¥–µ–ª "GL.iNet —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞–∫–µ—Ç—ã"
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –æ–±–æ–∏—Ö UI
  - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è GL.iNet UI vs LuCI
  - –£–¥–∞–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É–¥–∞–ª–µ–Ω–∏—é GL.iNet UI

- ‚úèÔ∏è `QUICK-REFERENCE.md` - –°–µ–∫—Ü–∏—è "GL.iNet GL-AXT1800 —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã"
  - –†–∞—Å—à–∏—Ä–µ–Ω —Ä–∞–∑–¥–µ–ª "–î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º"
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π UI
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "GL.iNet —Å–ª—É–∂–±—ã" (—É–±—Ä–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)

- ‚úèÔ∏è `README.md` - –û–ø–∏—Å–∞–Ω–∏–µ OpenWRT —Ä–æ—É—Ç–µ—Ä–∞
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ Dual UI
  - –°—Å—ã–ª–∫–∏ –Ω–∞ –æ–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Dual UI –ø–æ–¥—Ö–æ–¥–∞

**GL.iNet UI - –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–¥–∞—á:**
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚úÖ One-click VPN –∫–ª–∏–µ–Ω—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ WiFi
- ‚úÖ –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–µ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**OpenWRT LuCI - –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ /etc/config/*
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ opkg
- ‚úÖ SSH –∫–ª—é—á–∏, cron –∑–∞–¥–∞—á–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—à–∏—Ö –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

---

## v2.1 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Dell XPS L701X (2025-10-03)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

‚úÖ **DELL-XPS-L701X-NOTES.md** (20K) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Dell XPS L701X (8GB RAM, SSD+HDD)
- –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–∏—Å–∫–æ–≤ (SSD –¥–ª—è VM, HDD –¥–ª—è backup)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ USB-Ethernet –∞–¥–∞–ø—Ç–µ—Ä–∞ (udev rules)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è 8GB RAM (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏)
- KSM –∏ Swap –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å USB-Ethernet —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—é –∏ –ø–∏—Ç–∞–Ω–∏—é –ª–∞–ø—Ç–æ–ø–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–æ

**Proxmox –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- ‚úÖ `proxmox-network-interfaces` (3.4K)
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è Dell XPS L701X
  - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Ethernet ‚Üí LAN (–∫ OpenWRT)
  - USB-Ethernet ‚Üí WAN (–∫ ISP Router)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é udev rules –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏–º–µ–Ω–∏ USB-Ethernet
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ WiFi (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚úÖ `README.md` (18K)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è –æ Dell XPS L701X –∫–∞–∫ Proxmox —Å–µ—Ä–≤–µ—Ä
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã OPNsense VM (2GB RAM –≤–º–µ—Å—Ç–æ 4GB)
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ storage (SSD 250GB + HDD 500GB)
  - –ó–∞–º–µ—Ç–∫–∞ –æ–± AdGuard –Ω–∞ OpenWRT (—ç–∫–æ–Ω–æ–º–∏—è RAM)

- ‚úÖ `FILES-INDEX.md` (9.5K)
  - –î–æ–±–∞–≤–ª–µ–Ω DELL-XPS-L701X-NOTES.md –≤ –∏–Ω–¥–µ–∫—Å
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ Proxmox –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ö–ª—é—á–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### 1. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (8GB total)
```
Proxmox host:    1 GB
OPNsense VM:     2 GB (–≤–º–µ—Å—Ç–æ 4GB)
AdGuard:         –Ω–∞ OpenWRT (0 GB –Ω–∞ Proxmox)
LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:  4-5 GB
```

#### 2. Storage —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
```
SSD 250GB (fast):
  - Proxmox —Å–∏—Å—Ç–µ–º–∞
  - OPNsense VM
  - –ö—Ä–∏—Ç–∏—á–Ω—ã–µ LXC (databases)

HDD 500GB (slow):
  - ISO –æ–±—Ä–∞–∑—ã
  - Backup VM/LXC
  - –ë–æ–ª—å—à–∏–µ LXC (Nextcloud, media)
```

#### 3. –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
```
–î–æ:
  enp0s31f6 ‚Üí WAN
  enp1s0 ‚Üí LAN

–ü–æ—Å–ª–µ (Dell XPS L701X):
  eth-usb (USB-Ethernet) ‚Üí WAN
  eth-builtin (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π) ‚Üí LAN
  + udev rules –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
```

---

## v2.0 - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è GL.iNet GL-AXT1800 (2025-10-03)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

‚úÖ **GL-AXT1800-NOTES.md** (11K) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ GL.iNet GL-AXT1800:
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä—Ç—ã
- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ GL.iNet –ø—Ä–æ—à–∏–≤–∫–∏ (dual firmware system)
- DSA (Distributed Switch Architecture) –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- WiFi 6 (802.11ax) –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- LED —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- Reset –∏ recovery –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
- –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã

### –û–±–Ω–æ–≤–ª–µ–Ω–æ

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã OpenWRT

**Home Mode:**
- ‚úÖ `openwrt-home-network` (2.6K)
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è DSA –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  - –ü–æ—Ä—Ç—ã: `wan`, `lan1`, `lan2`, `lan3`, `lan4`
  - –£–¥–∞–ª–µ–Ω–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∞—è swconfig –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- ‚úÖ `openwrt-home-wireless` (4.0K)
  - WiFi 6 (802.11ax) –ø–æ–¥–¥–µ—Ä–∂–∫–∞
  - 5GHz: `HE80` (–≤–º–µ—Å—Ç–æ VHT80)
  - 2.4GHz: `HE40` (–≤–º–µ—Å—Ç–æ HT40)
  - MU-MIMO beamforming –≤–∫–ª—é—á–µ–Ω
  - MediaTek MT7915 —á–∏–ø—Å–µ—Ç

**Travel Mode:**
- ‚úÖ `openwrt-travel-network` (3.3K)
  - DSA –ø–æ—Ä—Ç—ã –¥–ª—è GL-AXT1800
  - WAN –ø–æ—Ä—Ç: `wan` (—Å–∏–Ω–∏–π –ø–æ—Ä—Ç)
  - LAN –ø–æ—Ä—Ç—ã: `lan1-lan4` (–∂–µ–ª—Ç—ã–µ –ø–æ—Ä—Ç—ã)

- ‚úÖ `openwrt-travel-wireless` (2.7K)
  - WiFi 6 –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Å–µ—Ç–µ–π

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ `README.md` (17K)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è –æ GL.iNet GL-AXT1800
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ"
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ GL-AXT1800-NOTES.md

- ‚úÖ `FILES-INDEX.md` (9.1K)
  - –î–æ–±–∞–≤–ª–µ–Ω GL-AXT1800-NOTES.md –≤ –∏–Ω–¥–µ–∫—Å
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ DSA –ø–æ—Ä—Ç–∞—Ö
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è WiFi 6 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

- ‚úÖ `QUICK-REFERENCE.md` (17K)
  - –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "GL.iNet GL-AXT1800 —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã"
  - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ DSA –ø–æ—Ä—Ç–æ–≤
  - WiFi 6 –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
  - GL.iNet —Å–ª—É–∂–±—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  - Hardware offloading –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

## –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### DSA vs swconfig

**–°—Ç–∞—Ä–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (swconfig):**
```
config switch
	option name 'switch0'
	option ports '0 1 2 3 6'
```

**–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (DSA):**
```
config device
	option name 'br-lan'
	option type 'bridge'
	list ports 'lan1'
	list ports 'lan2'
	list ports 'lan3'
	list ports 'lan4'
```

### WiFi 5 ‚Üí WiFi 6

**–î–æ:**
- 5GHz: `htmode 'VHT80'` (802.11ac)
- 2.4GHz: `htmode 'HT40'` (802.11n)

**–ü–æ—Å–ª–µ:**
- 5GHz: `htmode 'HE80'` (802.11ax WiFi 6)
- 2.4GHz: `htmode 'HE40'` (802.11ax WiFi 6)
- Beamforming: enabled
- MU-MIMO: enabled

### –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä—Ç—ã GL-AXT1800

```
–ó–∞–¥–Ω—è—è –ø–∞–Ω–µ–ª—å:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ WAN (—Å–∏–Ω–∏–π)          ‚îÇ ‚Üê –ö OPNsense –¥–æ–º–∞ / Hotel WiFi –≤ –ø–æ–µ–∑–¥–∫–µ
‚îÇ LAN1 LAN2 LAN3 LAN4  ‚îÇ ‚Üê –í–∞—à–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚îÇ (–∂–µ–ª—Ç—ã–µ)             ‚îÇ
‚îÇ POWER    USB 3.0     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è GL.iNet GL-AXT1800 (Flint)
‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å GL.iNet firmware 4.8.2 (OpenWRT 23.05)
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WiFi 6 (802.11ax)
‚úÖ DSA (Distributed Switch Architecture)
‚úÖ Dual firmware system (GL.iNet UI + OpenWRT LuCI)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è:
- GL.iNet GL-MT3000 (Beryl AX) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
- TP-Link Archer AX23 - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è wireless config
- –î—Ä—É–≥–∏–µ —Ä–æ—É—Ç–µ—Ä—ã —Å OpenWRT 23.05 –∏ DSA

## –ß—Ç–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

- ‚úÖ –°–µ—Ç–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Proxmox ‚Üí OPNsense ‚Üí OpenWRT)
- ‚úÖ IP –∞–¥—Ä–µ—Å–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ç–µ–π
- ‚úÖ Firewall –ø—Ä–∞–≤–∏–ª–∞
- ‚úÖ VPN –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (WireGuard)
- ‚úÖ AdGuard Home –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ Oracle Cloud –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ GL-AXT1800:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DSA –ø–æ—Ä—Ç—ã
ip link show | grep -E "wan|lan[1-4]"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WiFi 6
iw list | grep -A 10 "HE cap"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å bridge
bridge link show

# –°—Ç–∞—Ç—É—Å OpenWRT
ubus call system board

# GL.iNet –≤–µ—Ä—Å–∏—è
cat /etc/glversion
```

## –§–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (21 —Ñ–∞–π–ª, ~141 KB)

```
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (5 —Ñ–∞–π–ª–æ–≤):
  - README.md (17K)
  - FILES-INDEX.md (9.1K)
  - GL-AXT1800-NOTES.md (11K) ‚≠ê NEW
  - NETWORK-DIAGRAM.txt (27K)
  - QUICK-REFERENCE.md (17K)
  - CHANGELOG.md ‚≠ê NEW

Proxmox (1 —Ñ–∞–π–ª):
  - proxmox-network-interfaces (2.6K)

OPNsense (1 —Ñ–∞–π–ª):
  - opnsense-interfaces-config.txt (7.0K)

OpenWRT Home (4 —Ñ–∞–π–ª–∞):
  - openwrt-home-network (2.6K) ‚úèÔ∏è UPDATED
  - openwrt-home-wireless (4.0K) ‚úèÔ∏è UPDATED
  - openwrt-home-dhcp (3.5K)
  - openwrt-home-firewall (7.4K)

OpenWRT Travel (4 —Ñ–∞–π–ª–∞):
  - openwrt-travel-network (3.3K) ‚úèÔ∏è UPDATED
  - openwrt-travel-wireless (2.7K) ‚úèÔ∏è UPDATED
  - openwrt-travel-dhcp (2.9K)
  - openwrt-travel-firewall (6.0K)

–°–∫—Ä–∏–ø—Ç—ã (4 —Ñ–∞–π–ª–∞):
  - openwrt-mode-switcher.sh (3.6K)
  - openwrt-init-mode-detector (752B)
  - openwrt-vpn-failover.sh (2.3K)
  - openwrt-install-script.sh (2.4K)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (2 —Ñ–∞–π–ª–∞):
  - adguardhome-config.yaml (5.2K)
  - oracle-cloud-wireguard.conf (3.2K)
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `GL-AXT1800-NOTES.md` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ–≥–ª–∞—Å–Ω–æ `README.md`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `QUICK-REFERENCE.md` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. –°–¥–µ–ª–∞–π—Ç–µ backup –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏!

---

**–ê–≤—Ç–æ—Ä:** Configuration Generator
**–í–µ—Ä—Å–∏—è:** 2.0 (GL-AXT1800 optimized)
**–î–∞—Ç–∞:** 2025-10-03
